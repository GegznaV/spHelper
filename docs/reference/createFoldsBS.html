<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>DEPRECATED! — createFolds2 • spHelper</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="DEPRECATED! — createFolds2" />
<meta property="og:description" content="DEPRECATED!
Create folds with blocking and stratification (BS)
  for (repeated) k-fold cross-validation
Function randomly divides observations into folds that are used for (repeated)
k-fold cross-validation. In these folds observations are:
blocked by values in variable ID (i.e. observations
       with the same &quot;ID&quot; are treated as one unit (a block) and are always
        in the same fold);
stratified by levels of factor variable gr (the proportions of
     these grouped units of observations per each group (level) are kept aproximately
     constant throughout all folds).

" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">spHelper</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.190</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/v1_spHelper_Plotting.html">`spHelper` Plotting Examples</a>
    </li>
    <li>
      <a href="../articles/v2_Other_Examples.html">Other `spHelper` examples</a>
    </li>
    <li>
      <a href="../articles/v3_Plotting_Examples_gg_hy.html">`hyperSpec` Plotting Examples with `ggplot2`</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>DEPRECATED!</h1>
    
    <div class="hidden name"><code>createFoldsBS.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>DEPRECATED!<br />
Create folds with blocking and stratification (BS)
  for (repeated) k-fold cross-validation
Function randomly divides observations into folds that are used for (repeated)
k-fold cross-validation. In these folds observations are:</p><ol>
<li><p><b>blocked</b> by values in variable <code>ID</code> (i.e. observations
       with the same "ID" are treated as one unit (a block) and are always
        in the same fold);</p></li>
<li><p><b>stratified</b> by levels of factor variable <code>gr</code> (the proportions of
     these grouped units of observations per each group (level) are kept aproximately
     constant throughout all folds).</p></li>
</ol>

    </div>

    <pre class="usage"><span class='fu'>createFolds2</span>(<span class='kw'>data</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>gr</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>ID</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>k</span> <span class='kw'>=</span> <span class='fl'>5</span>, <span class='kw'>returnTrain</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>...</span>)

<span class='fu'>stratifiedFolds</span>(
  <span class='kw'>data</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>gr</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>ID</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>k</span> <span class='kw'>=</span> <span class='fl'>5</span>,
  <span class='kw'>returnTrain</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='no'>...</span>
)

<span class='fu'>createFoldsBS</span>(
  <span class='kw'>data</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>stratify_by</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>block_by</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>k</span> <span class='kw'>=</span> <span class='fl'>5</span>,
  <span class='kw'>returnTrain</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>times</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>seeds</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>gr</span> <span class='kw'>=</span> <span class='no'>stratify_by</span>,
  <span class='kw'>ID</span> <span class='kw'>=</span> <span class='no'>block_by</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>A data frame, that contains variables which names are denoted
by arguments <code>ID</code> and by <code>gr</code>.</p></td>
    </tr>
    <tr>
      <th>k</th>
      <td><p>(integer) A number of folds, default <code>k = 5</code>.</p></td>
    </tr>
    <tr>
      <th>returnTrain</th>
      <td><p>(logical) If <code>TRUE</code>, returns indices of variables in
training set. If <code>FALSE</code>, returns indices of
variables in test set.</p></td>
    </tr>
    <tr>
      <th>stratify_by, gr</th>
      <td><p>A vector or a name of factor variable in <code>data</code>, which levels
will be used for <em>stratification</em>. E.g., vector with
medical groups.</p></td>
    </tr>
    <tr>
      <th>block_by, ID</th>
      <td><p>A vector or a name of variable in <code>data</code>, that contains
identification codes/numbers (ID). These codes will be used for blocking.</p></td>
    </tr>
    <tr>
      <th>times</th>
      <td><p>(integer) number of repetitions for repeated cross-vatidtion.</p></td>
    </tr>
    <tr>
      <th>seeds</th>
      <td><p>(vector of integers | <code>NULL</code>) Seeds for random number
            generator for each repetition.<br />
            If <code>seeds = NULL</code> random seeds are generated.<br />
            If number of repetitions is
            greater than number of provided seeds, random seeds are
            generated and added to the provided ones. The first seed will
            be used to ensure reproducibility of the randomly generated seeds.<br /></p>
<p>(See <code><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></code> for more information about
             random number generation).</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list of folds. In each fold there are indices observations.
        The structure of outpus is the similar to one created with
        <code><a href='https://rdrr.io/pkg/caret/man/createDataPartition.html'>createFolds</a>()</code>.</p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>If <code>k</code> is such big, that some folds have no observations of a certain group
      (i.e. level in <code>gr</code>), an error is returned. In that case smaller value of
       <code>k</code> is recommended. <br /> <br />
        <code>createFolds2</code>, <code>stratifiedFolds</code> is a wrapper of
        <code>createFoldsBS</code>.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='https://rdrr.io/pkg/caret/man/createDataPartition.html'>createFolds</a></code><br />
Test if folds are blocked and stratified <code>cvo_test_bs</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>spHelper</span>)

<span class='co'># Load data</span>
     <span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='st'>"DataSet1"</span>)

<span class='co'># Explore data</span>
     <span class='fu'><a href='https://rdrr.io/r/utils/str.html'>str</a></span>(<span class='no'>DataSet1</span>)</div><div class='output co'>#&gt; 'data.frame':	40 obs. of  3 variables:
#&gt;  $ ID  : Factor w/ 20 levels "1","2","3","4",..: 1 1 2 2 3 3 4 4 5 5 ...
#&gt;  $ gr  : Factor w/ 4 levels "A","B","C","D": 1 1 1 1 1 1 1 1 1 1 ...
#&gt;  $ .row: int  1 2 3 4 5 6 7 8 9 10 ...</div><div class='input'>     <span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span>(<span class='no'>DataSet1</span>[,<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"gr"</span>,<span class='st'>"ID"</span>)])</div><div class='output co'>#&gt;    ID
#&gt; gr  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20
#&gt;   A 2 2 2 2 2 0 0 0 0  0  0  0  0  0  0  0  0  0  0  0
#&gt;   B 0 0 0 0 0 2 2 2 2  2  0  0  0  0  0  0  0  0  0  0
#&gt;   C 0 0 0 0 0 0 0 0 0  0  2  2  2  2  2  0  0  0  0  0
#&gt;   D 0 0 0 0 0 0 0 0 0  0  0  0  0  0  0  2  2  2  2  2</div><div class='input'>     <span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span>(<span class='no'>DataSet1</span>)</div><div class='output co'>#&gt;        ID     gr          .row      
#&gt;  1      : 2   A:10   Min.   : 1.00  
#&gt;  2      : 2   B:10   1st Qu.:10.75  
#&gt;  3      : 2   C:10   Median :20.50  
#&gt;  4      : 2   D:10   Mean   :20.50  
#&gt;  5      : 2          3rd Qu.:30.25  
#&gt;  6      : 2          Max.   :40.00  
#&gt;  (Other):28                         </div><div class='input'>
<span class='co'># Explore functions</span>
     <span class='no'>nFolds</span> <span class='kw'>=</span> <span class='fl'>5</span>

<span class='co'># If variables of data frame are provided:</span>
     <span class='no'>Folds1_a</span> <span class='kw'>&lt;-</span> <span class='fu'>createFoldsBS</span>(<span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>DataSet1</span>,
                              <span class='kw'>stratify_by</span> <span class='kw'>=</span> <span class='st'>"gr"</span>, <span class='kw'>block_by</span> <span class='kw'>=</span> <span class='st'>"ID"</span>,
                               <span class='kw'>k</span> <span class='kw'>=</span> <span class='no'>nFolds</span>, <span class='kw'>returnTrain</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt; <span class='warning'>Warning: 'createFoldsBS' is deprecated.</span>
#&gt; <span class='warning'>Use 'cvo_create_folds' instead.</span>
#&gt; <span class='warning'>See help("Deprecated")</span></div><div class='input'>     <span class='co'># str(Folds1_a)</span>
     <span class='fu'>cvo_test_bs</span>(<span class='no'>Folds1_a</span>, <span class='no'>DataSet1</span>, <span class='st'>"gr"</span>, <span class='st'>"ID"</span>)</div><div class='output co'>#&gt; <span class='error'>Error in cvo_test_bs(Folds1_a, DataSet1, "gr", "ID"): could not find function "cvo_test_bs"</span></div><div class='input'>
<span class='co'># If "free" variables are provided:</span>
     <span class='no'>Folds1_b</span> <span class='kw'>&lt;-</span> <span class='fu'>createFoldsBS</span>(<span class='kw'>gr</span> <span class='kw'>=</span> <span class='no'>DataSet1</span>$<span class='no'>gr</span>, <span class='kw'>ID</span> <span class='kw'>=</span> <span class='no'>DataSet1</span>$<span class='no'>ID</span>,
                                <span class='kw'>k</span> <span class='kw'>=</span> <span class='no'>nFolds</span>, <span class='kw'>returnTrain</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt; <span class='warning'>Warning: 'createFoldsBS' is deprecated.</span>
#&gt; <span class='warning'>Use 'cvo_create_folds' instead.</span>
#&gt; <span class='warning'>See help("Deprecated")</span></div><div class='input'>     <span class='co'># str(Folds1_b)</span>
     <span class='fu'>cvo_test_bs</span>(<span class='no'>Folds1_b</span>, <span class='no'>DataSet1</span>, <span class='st'>"gr"</span>, <span class='st'>"ID"</span>)</div><div class='output co'>#&gt; <span class='error'>Error in cvo_test_bs(Folds1_b, DataSet1, "gr", "ID"): could not find function "cvo_test_bs"</span></div><div class='input'>
<span class='co'># Not blocked but stratified</span>
     <span class='no'>Folds1_c</span> <span class='kw'>&lt;-</span> <span class='fu'>createFoldsBS</span>(<span class='kw'>gr</span> <span class='kw'>=</span> <span class='no'>DataSet1</span>$<span class='no'>gr</span>, <span class='kw'>k</span><span class='kw'>=</span><span class='no'>nFolds</span>, <span class='kw'>returnTrain</span><span class='kw'>=</span><span class='fl'>FALSE</span>)</div><div class='output co'>#&gt; <span class='warning'>Warning: 'createFoldsBS' is deprecated.</span>
#&gt; <span class='warning'>Use 'cvo_create_folds' instead.</span>
#&gt; <span class='warning'>See help("Deprecated")</span></div><div class='input'>     <span class='co'># str(Folds1_c)</span>
     <span class='fu'>cvo_test_bs</span>(<span class='no'>Folds1_c</span>, <span class='no'>DataSet1</span>, <span class='st'>"gr"</span>, <span class='st'>"ID"</span>)</div><div class='output co'>#&gt; <span class='error'>Error in cvo_test_bs(Folds1_c, DataSet1, "gr", "ID"): could not find function "cvo_test_bs"</span></div><div class='input'>
<span class='co'># Blocked but not stratified</span>
     <span class='no'>Folds1_d</span> <span class='kw'>&lt;-</span> <span class='fu'>createFoldsBS</span>(<span class='kw'>block_by</span> <span class='kw'>=</span> <span class='no'>DataSet1</span>$<span class='no'>ID</span>, <span class='kw'>k</span> <span class='kw'>=</span> <span class='no'>nFolds</span>, <span class='kw'>returnTrain</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt; <span class='warning'>Warning: 'createFoldsBS' is deprecated.</span>
#&gt; <span class='warning'>Use 'cvo_create_folds' instead.</span>
#&gt; <span class='warning'>See help("Deprecated")</span></div><div class='input'>     <span class='co'># str(Folds1_d)</span>
     <span class='fu'>cvo_test_bs</span>(<span class='no'>Folds1_d</span>, <span class='no'>DataSet1</span>, <span class='st'>"gr"</span>, <span class='st'>"ID"</span>)</div><div class='output co'>#&gt; <span class='error'>Error in cvo_test_bs(Folds1_d, DataSet1, "gr", "ID"): could not find function "cvo_test_bs"</span></div><div class='input'>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#note">Note</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Vilmantas Gegzna</p>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Vilmantas Gegzna.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


